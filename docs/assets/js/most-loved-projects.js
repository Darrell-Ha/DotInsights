!function(u){"use strict";window.DotInsights=window.DotInsights||{},DotInsights.Projects=DotInsights.Projects||{},DotInsights.FilteredProjects=DotInsights.FilteredProjects||{},DotInsights.Query=DotInsights.Query||{itemsPerPage:50,maxNumPages:1,page:1,foundItems:0},DotInsights.Pagination=DotInsights.Pagination||{},DotInsights.FilteredProjects=DotInsights.FilteredProjects||{},window.innerWidth<561?DotInsights.Pagination.midSize=2:DotInsights.Pagination.midSize=3,window.innerWidth<768?DotInsights.Query.itemsPerPage=10:DotInsights.Query.itemsPerPage=50;var h=window.DotInsights.Helpers,s=u("#project-form-filter"),e=s.find(".search-submit"),t=null,g=u("#most-loved-projects-table tbody"),a=u("#most-loved-projects-pagination"),m=(u(document.body).on("DotInsights/EcosystemMap/Data",function(e,t){for(var i=0;i<t.length;i++)t[i].totalLikes=DotInsights.NumberUtil.getRandomInt(1e3,4e3);t.sort(DotInsights.ArrayUtil.dynamicSort("totalLikes"));for(i=0;i<t.length;i++)t[i].rank=i+1}),u(document.body).on("DotInsights/EcosystemMap/Loaded",function(){DotInsights.FilteredProjects=DotInsights.Projects;var e=DotInsights.FilteredProjects.length;DotInsights.Query.page=1,DotInsights.Query.foundItems=e,DotInsights.Query.maxNumPages=0<DotInsights.Query.itemsPerPage?Math.ceil(e/DotInsights.Query.itemsPerPage):1,o(),n()}),s.on("keyup",".search-field",function(){clearTimeout(t),t=setTimeout(function(){e.addClass("updating-icon"),setTimeout(function(){e.removeClass("updating-icon"),u(document.body).trigger("DotInsights/EcosystemMap/Searching")},300)},700)}),s.on("submit",function(e){return clearTimeout(t),t=setTimeout(function(){u(document.body).trigger("DotInsights/EcosystemMap/Searching")},700),!1}),u(document.body).on("DotInsights/EcosystemMap/Searching",function(e){var t=s.find('input[name="s"]').val(),i=[],t=(""!==t&&i.push({key:"project",value:t,operator:"like"}),DotInsights.FilteredProjects=0<i.length?h.filterByRules(i,DotInsights.Projects):DotInsights.Projects,DotInsights.FilteredProjects.length);DotInsights.Query.page=1,DotInsights.Query.foundItems=t,DotInsights.Query.maxNumPages=0<DotInsights.Query.itemsPerPage?Math.ceil(t/DotInsights.Query.itemsPerPage):1,o(),n()}),[{project_id:"polkadot",name:"Polkadot",likes:7927,r:197,fontSize:30},{project_id:"subwallet",name:"SubWallet",likes:6827,r:144,fontSize:20},{project_id:"ampnet",name:"Ampnet",likes:4072,r:107,fontSize:18},{project_id:"acala",name:"Acala",likes:4072,r:88,fontSize:16},{project_id:"demodyfi",name:"Demodyfi",likes:5072,r:121,fontSize:16},{project_id:"chainsafe",name:"ChainSafe",likes:2989,r:102,fontSize:16},{project_id:"1beam",name:"1beam",likes:2989,r:102,fontSize:16},{project_id:"unilend",name:"Unilend",likes:2025,r:96,fontSize:16},{project_id:"metamask",name:"MetaMask",likes:3325,r:76,fontSize:16},{project_id:"onfinality",name:"OnFinality",likes:2028,r:68,fontSize:16},{project_id:"nabox",name:"Nabox",likes:1931,r:77,fontSize:16},{project_id:"anchor",name:"Anchor",likes:1931,r:52,fontSize:16},{project_id:"athos_finance",name:"Athos Finance",likes:1092,r:64,fontSize:16},{project_id:"huckleberry",name:"Huckleberry",likes:821,r:39,fontSize:16},{project_id:"ambire_wallet",name:"Ambire Wallet",likes:821,r:48,fontSize:16},{project_id:"polkafoundry",name:"PolkaFoundry",likes:821,r:57,fontSize:16},{project_id:"lido",name:"Lido",likes:821,r:60,fontSize:16},{project_id:"beyondfi",name:"BeyondFi",likes:821,r:38,fontSize:16},{project_id:"basilisk",name:"Basilisk",likes:821,r:49,fontSize:16},{project_id:"avault",name:"Avault",likes:821,r:35,fontSize:16},{project_id:"curve",name:"Curve",likes:821,r:60,fontSize:16},{project_id:"linear",name:"Linear",likes:821,r:54,fontSize:16},{project_id:"prime_protocol",name:"Prime Protocol",likes:821,r:33,fontSize:16},{project_id:"riodefi",name:"RioDeFi",likes:821,r:57,fontSize:16},{project_id:"parallel",name:"Parallel",likes:821,r:76,fontSize:16}]),f=m.length,v=u("#bubble-projects");function i(){v.empty();var e=v.width(),t=[],i={},s=!1,o=0,n=0,a=1,r=(window.innerWidth<768?a=.5:window.innerWidth<1200&&(a=.8),2115-window.innerWidth);r*=a,r=Math.max(r,700),v.height(r);for(var l=0;l<f;l++){var c=DotInsights.NumberUtil.precisionRoundMod(m[l].r*a,0);m[l].displayR=Math.max(c,40)}for(;t.length<f&&o<1e4;){(i=m[n]).x=DotInsights.NumberUtil.getRandomInt(i.displayR,e-i.displayR),i.y=DotInsights.NumberUtil.getRandomInt(i.displayR,r-i.displayR);for(s=!1,l=0;l<t.length;l++){var d=t[l];if(DotInsights.NumberUtil.dist(i.x,i.y,d.x,d.y)<i.displayR+d.displayR){s=!0;break}}s||(t.push(i),n++),o++}for(var p=["move-slow","move-normal","move-fast"],l=0;l<t.length;l++){var h=t[l],g="bubble-project bubble-project--"+h.project_id,g='<div class="'+((g+=l%2==0?" move-vertical":" move-vertical-reversed")+(" "+p[DotInsights.NumberUtil.getRandomInt(0,3)]))+'">',g=(g=(g+='<img src="./assets/images/bubbles/'+h.project_id+'.png" alt="">')+("<h3>"+h.name+'</h3><div class="total-likes"><svg><use xlink:href="#symbol-ph-heart-straight"></use></svg>'+h.likes+"</div>"),u(g+="</div>"));g.css({width:2*h.displayR,height:2*h.displayR,top:h.y-h.displayR,left:h.x-h.displayR}),g.css("--circle-size",2*h.displayR+"px"),v.append(g)}}function o(e=!1){for(var t=(DotInsights.Query.page-1)*DotInsights.Query.itemsPerPage+1,i="",s=(s=t+DotInsights.Query.itemsPerPage)>DotInsights.Query.foundItems?DotInsights.Query.foundItems+1:s,o=t;o<s;o++)var n=DotInsights.FilteredProjects[o-1],a="row-project",r=n.rank<=3,l='<span class="rank-number">'+n.rank+"</span>",l=r?'<svg><use xlink:href="#symbol-crown"></use></svg>'+l:l,r=(a+=r?" row-project-highlight":"","project-layer project-layer-color--"+h.sanitizeKey(n.layer)),r=""!==n.layer?'<span class="'+r+'">'+n.layer+"</span>":'<span class="text-placeholder">--</span>',c=""!==n.token?n.token:'<span class="text-placeholder">--</span>',d='<input type="checkbox" readonly disabled class="project-is-native"'+("Yes"===n.native?" checked":"")+" />",p="project-category project-cat-color--"+n.category_id,i=(i=(i=(i=(i=(i=(i+='<tr class="'+a+'">')+('<td class="col-project-info"><a href="'+n.website+'" target="_blank" rel="nofollow" class="project-info"><div class="project-rank">'+l+'</div><div class="project-thumbnail"><img src="./assets/images/projects/glmr-punks.png" alt="'+n.project+'" width="80" height="80"/></div><div class="project-details"><h3 class="project-name">'+n.project+'</h3><p class="'+p+'">'+n.category+"</p></div></a></td>")+('<td class="col-project-layer">'+r+"</td>"))+('<td class="col-project-token"><span class="project-token">'+c+"</span></td>")+('<td class="col-project-native">'+d+"</td>"))+('<td class="col-project-github">'+j(n.github)+"</td>"))+('<td class="col-project-twitter">'+y(n.twitter)+"</td>"))+('<td class="col-mobile-project-info">'+('<div class="project-info-line"><div class="label">Native: </div>'+'<div class="value">'+d+"</div></div>"+'<div class="project-info-line"><div class="label">Layer: </div>'+'<div class="value">'+r+"</div></div>"+'<div class="project-info-line"><div class="label">Token: </div>'+'<div class="value">'+c+"</div></div>"+'<div class="project-info-line"><div class="label">Github: </div>'+'<div class="value">'+j((a=n).github)+"</div></div>"+'<div class="project-info-line"><div class="label">Twitter: </div>'+'<div class="value">'+y(a.twitter)+"</div></div>")+"</td>"))+('<td class="col-project-love">'+(void 0,l="button btn-like ",'<a href="#" class="'+(l+=" like-this")+'"><svg class="button-icon"><use xlink:href="#symbol-ph-heart-straight"></use></svg><span class="button-text">'+DotInsights.NumberUtil.formatWithCommas(n.totalLikes)+"</span></a>")+"</td>")+"</tr>";e?g.append(i):g.html(i)}function n(){var e="",t=DotInsights.Query.maxNumPages;if(1<t){for(var i=DotInsights.Query.page,s=[i],o=1,n=i-1;0<n&&(s.unshift(n),o!==DotInsights.Pagination.midSize);n--)o++;for(o=1,n=i+1;n<=t&&(s.push(n),o!==DotInsights.Pagination.midSize);n++)o++;e+="<ul>",1<i&&(e+='<li><a href="#" class="page-prev"  data-page="'+(i-1)+'"><svg xmlns="http://www.w3.org/2000/svg" width="192" height="192" fill="#000000" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><polyline points="56 48 136 128 56 208" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></polyline><polyline points="136 48 216 128 136 208" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></polyline></svg></a></li>');for(n=0;n<s.length;n++)e=(e+="<li>")+(s[n]===i?'<span class="page-numbers current">'+s[n]+"</a>":'<a href="#" class="page-numbers" data-page="'+s[n]+'">'+s[n]+"</a>")+"</li>";i<t&&(e+='<li><a href="#" class="page-next" data-page="'+(i+1)+'"><svg xmlns="http://www.w3.org/2000/svg" width="192" height="192" fill="#000000" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><polyline points="56 48 136 128 56 208" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></polyline><polyline points="136 48 216 128 136 208" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></polyline></svg></a></li>'),e+="</ul>"}a.html(e)}function y(e){var t;return""!==e&&"N/A"!==e?(t=(t=e.replace("https://twitter.com/","@",e)).replace("https://mobile.twitter.com/","@",t),'<a href="'+e+'" target="_blank" class="project-link-twitter">'+(t=DotInsights.StringUtil.rtrim(t,"/"))+"</a>"):'<span class="text-placeholder">--</span>'}function j(e){return""!==e&&"N/A"!==e?'<a href="'+e+'" target="_blank" class="project-link-github"><span class="fab fa-github"></span></a>':'<span class="text-placeholder">--</span>'}u(document).ready(function(){i()}),u(window).on("hresize",function(){window.innerWidth<561?DotInsights.Pagination.midSize=2:DotInsights.Pagination.midSize=3,window.innerWidth<768?DotInsights.Query.itemsPerPage=10:DotInsights.Query.itemsPerPage=50}),u(window).on("hresize_one",function(){i()}),a.on("click","a",function(e){e.preventDefault(),DotInsights.Query.page=u(this).data("page");e=g.offset().top-120;u("html, body").animate({scrollTop:e},200),o(),n()})}(jQuery);