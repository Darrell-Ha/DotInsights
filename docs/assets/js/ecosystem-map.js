!function(e){"use strict";window.dotinsights=window.dotinsights||{},dotinsights.Projects=dotinsights.Projects||{};var n=window.dotinsights.Helpers,a=window.dotinsights.NumberUtil,i=(fetch(n.getApiEndpointUrl("getProjects")).then(function(t){return t.json()}).then(function(t){for(var o=t.projects,i=o=n.filterByRules([{key:"project",value:"",operator:"!"}],o),s=i.length-1;0<=s;s--)i[s].category_slug=n.sanitizeKey(i[s].category,"uncategorized"),i[s].project_slug=n.sanitizeSlug(i[s].project);e.ajax({method:"GET",url:n.getApiEndpointUrl("getVoteCount"),success:function(t){for(var i=0;i<o.length;i++)t.hasOwnProperty(o[i].project_id)&&(o[i].vote_count=t[o[i].project_id]);o.sort(dotinsights.ArrayUtil.dynamicSort("vote_count"));for(i=0;i<o.length;i++)o[i].rank=i+1;e(document.body).trigger("dotinsights/EcosystemMap/Data",[o]),dotinsights.Projects=o,e(document.body).trigger("dotinsights/EcosystemMap/Loaded")}})}),fetch(n.getApiEndpointUrl("chainData/polkadot")).then(function(t){return 200===t.status&&t.json()}).then(function(t){var i,o,s,n;t&&(i=e("#statistic-dot-finalized-blocks"),o=e("#statistic-dot-signed-extrinsics"),s=e("#statistic-dot-accounts"),n=e("#statistic-dot-transactions"),i.find(".statistic-amount").html(a.formatWithCommas(t.finalizedBlockNum)),i.find(".statistic-volume .value").html(a.formatWithCommas("+"+t.block_change_24h)),o.find(".statistic-amount").html(a.formatWithCommas(t.countSignedExtrinsic)),o.find(".statistic-volume .value").html(a.formatWithCommas("+"+t.extrinsicsChange)),s.find(".statistic-amount").html(a.formatWithCommas(t.accounts)),s.find(".statistic-volume .value").html(a.formatWithCommas("+"+t.accounts_change_24h)),n.find(".statistic-amount").html(a.formatWithCommas(t.transfers)),n.find(".statistic-volume .value").html(a.formatWithCommas("+"+t.transfers_change_24h)))}),e("#polkadot-statistic-slider"));function t(){var t=window.innerWidth/100*85,t=Math.min(t,408);i.css("--statistic-block-width",t+"px")}e(document).ready(function(){t()}),e(window).on("hresize_one",function(){t()})}(jQuery);