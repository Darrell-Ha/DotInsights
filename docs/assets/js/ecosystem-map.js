!function(a){"use strict";window.dotinsights=window.dotinsights||{},dotinsights.Projects=dotinsights.Projects||{};var e=window.dotinsights.Helpers,r=window.dotinsights.NumberUtil,i=(fetch(e.getApiEndpointUrl("getProjects")).then(function(t){return t.json()}).then(function(t){for(var o=t.projects,i=o=e.filterByRules([{key:"project",value:"",operator:"!"}],o),s=i.length-1;0<=s;s--){var n=(i[s].category||"").trim().split(",");i[s].category_slugs=n.map(t=>e.sanitizeKey(t.trim(),"uncategorized")),i[s].project_slug=e.sanitizeSlug(i[s].project)}a.ajax({method:"GET",url:e.getApiEndpointUrl("getVoteCount"),success:function(t){for(var i=0;i<o.length;i++)t.hasOwnProperty(o[i].project_id)&&(o[i].vote_count=t[o[i].project_id]);o.sort(dotinsights.ArrayUtil.dynamicSort("vote_count"));for(i=0;i<o.length;i++)o[i].rank=i+1;a(document.body).trigger("dotinsights/EcosystemMap/Data",[o]),dotinsights.Projects=o,a(document.body).trigger("dotinsights/EcosystemMap/Loaded")}})}),fetch(e.getApiEndpointUrl("chainData/polkadot")).then(function(t){return 200===t.status&&t.json()}).then(function(t){var i,o,s,n;t&&(i=a("#statistic-dot-finalized-blocks"),o=a("#statistic-dot-signed-extrinsics"),s=a("#statistic-dot-accounts"),n=a("#statistic-dot-transactions"),i.find(".statistic-amount").html(r.formatWithCommas(t.finalizedBlockNum)),i.find(".statistic-volume .value").html(r.formatWithCommas("+"+t.block_change_24h)),o.find(".statistic-amount").html(r.formatWithCommas(t.countSignedExtrinsic)),o.find(".statistic-volume .value").html(r.formatWithCommas("+"+t.extrinsicsChange)),s.find(".statistic-amount").html(r.formatWithCommas(t.accounts)),s.find(".statistic-volume .value").html(r.formatWithCommas("+"+t.accounts_change_24h)),n.find(".statistic-amount").html(r.formatWithCommas(t.transfers)),n.find(".statistic-volume .value").html(r.formatWithCommas("+"+t.transfers_change_24h)))}),a("#polkadot-statistic-slider"));function t(){var t=window.innerWidth/100*85,t=Math.min(t,408);i.css("--statistic-block-width",t+"px")}a(document).ready(function(){t()}),a(window).on("hresize_one",function(){t()})}(jQuery);