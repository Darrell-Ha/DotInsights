!function(n){"use strict";function o(s,t){this.$el=s,this.ACTIVE_CLASS="open",this.initialized=!1,this.defaults={perfectScrollbar:!0},this.settings=n.extend({},this.defaults,t),this.triggerMethod=(t,i)=>{"function"==typeof this[t]&&this[t](i)},this.setOptions=function(t){this.settings=n.extend({},this.settings,t=t||{})},this.getOptions=function(){return this.settings},this.update=function(t){this.setOptions(t)},this.setHeight=function(t){this.$el.find(".modal-content-wrap").height(t)},this.init=function(){var i=this;!1===i.initialized&&(s.on("click",".modal-overlay, .button-close-modal",function(t){t.preventDefault(),t.stopPropagation(),i.close()}),n(document.body).on("keyup",function(t){27===t.keyCode&&i.close()}),i.initialized=!0,n(document.body).trigger("dotinsightsModalInit",[s]))},this.open=function(){var t=this;n(".dotinsights-modal").removeClass(t.ACTIVE_CLASS),t.init(),s.addClass(t.ACTIVE_CLASS),window.dotinsights.Helpers.setBodyOverflow(),this.settings.perfectScrollbar&&n.fn.perfectScrollbar&&!window.dotinsights.Helpers.isHandheld()&&s.find(".modal-content-wrap").perfectScrollbar(),n(document.body).trigger("dotinsightsModalOpen",[s]),s.trigger("dotinsightsModalOpen")},this.close=function(){this.init(),s.removeClass(this.ACTIVE_CLASS),window.dotinsights.Helpers.unsetBodyOverflow(),n(document.body).trigger("dotinsightsModalClose",[s]),s.trigger("dotinsightsModalClose")},this.init()}const h="dotinsightsModal";n.fn.extend({dotinsightsModal:function(s,e){return this.length?"options"===s?n.data(this.get(0),h).getOptions():this.each(function(){var t=n(this);let i=n.data(this,h);i?i.triggerMethod(s,e):("string"==typeof s?(i=new o(t)).triggerMethod(s,e):i=new o(t,s),n.data(this,h,i))}):this}})}(jQuery);